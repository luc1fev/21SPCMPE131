define("accountSelectorBlock/manifest",{version:2,controller:{module:"accountSelectorBlock/accountSelector",viewPath:{prefix:"accountSelectorBlock/views/"},dependencies:{"./css/accountSelector.css":"css"},services:{accountSelector:"accountSelectorBlock/services/accountSelector"},components:{accountSelector:{module:"accountSelectorBlock/components/accountSelector",spec:"blue-spec/account_selector",model:"accountSelector"}}}}),define("accountSelectorBlock/dataTransform/accountSelector",[],function(){"use strict";return function(e){return{getFormattedAccounts:function(t){var c=e.get("accountSelector"),o=c.horizontalEllipsisSymbol,n=c.openParenthesesSymbol,a=c.closeParenthesesSymbol;return t?t.map(function(e){return{accountId:e.accountId,accountDisplayName:e.nickname+" "+n+o+(e.accountMask||e.mask)+a,accountMask:e.accountMask,cardType:e.cardType,payeeId:e.payeeId}}):[]},getEscrowAccounts:function(e){return e.accountTiles&&e.accountTiles.filter(function(e){return"HMG"===e.accountTileDetailType})},getDirectDepositAccounts:function(e){return e.filter(function(e){return"SAV"===e.accountType||"CHK"===e.accountType})}}}}),define("accountSelectorBlock/dataProvider/accountSelector",["require","accountSelectorBlock/dataTransform/accountSelector"],function(e){"use strict";return function(t){var c=e("accountSelectorBlock/dataTransform/accountSelector")(t.model);return{accountSelector:{getAccountTypeSelectorList:{success:function(e,o){var n=e.params&&"ACCOUNT_SETUPDIRECTDEPOSIT"===e.params.selectorType?c.getDirectDepositAccounts(o.accounts):o.accounts;n.length?t._onSuccess(c.getFormattedAccounts(n)):t.context.goToDashboard()},failure:function(){t.context.goToDashboard()}},getAccountTileslist:{success:function(e,o){var n=c.getEscrowAccounts(o);n.length?t._onSuccess(c.getFormattedAccounts(n)):t.context.goToDashboard()},failure:function(){t.context.goToDashboard()}},getSetupDirectDepositDocKey:{success:function(e,t){return t},failure:function(){t.context.goToDashboard()}}}}}}),define("accountSelectorBlock/lib/accountSelectorNavigationMixin",[],function(){"use strict";return function(e){var t={DISNEY_CARDS:function(t){e.application.broadcast("designAccountInfo",{accountId:t.accountId,cardType:t.cardType,accountMaskNumber:t.accountMask})},ORDER_CHECKS_DEPOSIT:function(t,c,o){var n=(e.accountIdFromUrl||1===e.accountsLength)&&e.goToDashboard;c.params={urlParameter:{}},c.params.urlParameter[o.queryParamsKey]=t.accountId,c.confirmFunction=n,c.cancelFunction=n},UPDATE_PAYMENT_DUE_DATE:function(e,t){t.params={dynamicParams:{accountId:e.accountId}}},ADD_EMPLOYEE_CARD:function(e,t){t.params={action:{accountId:e.payeeId&&Math.abs(e.payeeId)||e.accountId}}},ADD_AUTHORIZED_USER:function(e,t){t.params={dynamicParams:{accountId:e.accountId}}}};e.navigateToFeature=function(c,o){var n=e.mapper[c].navMapper,a={navKey:n.navKey};n.navObjOperation?t[c](o,a,n):(a.params={action:{}},a.params.action[n.queryParamsKey]=o.accountId),e.application.broadcast("makeNavigation",a)},e.goToDashboard=function(){e.application.broadcast("makeNavigation",{navKey:"requestDashboard"})}}}),define("accountSelectorBlock/lib/accountSelectorMapper",[],function(){"use strict";return function(e){e.mapper={ADD_AUTHORIZED_USER:{navMapper:{navKey:"addCreditCardAccountHolder",queryParamsKey:"accountId",navObjOperation:!0},variation:"ADD_AUTHORIZED_USER",service:"getAccountTypeSelectorList",selectorType:"ADD_AUTHORIZED_USER"},ADD_EMPLOYEE_CARD:{navMapper:{navKey:"initiateAddCardForSubAccount",queryParamsKey:"accountId",navObjOperation:!0},variation:"ADD_EMPLOYEE_CARD",service:"getAccountTypeSelectorList",selectorType:"ADD_EMPLOYEE_CARD",accountInfoRequired:!0},ALA_ACCOUNT_PAYOFFQUOTE:{navMapper:{navKey:"requestPayoffQuote",queryParamsKey:"accountIndex"},variation:"ALA_PAYOFF_QUOTE",service:"getAccountTypeSelectorList",selectorType:"ALA_ACCOUNT_PAYOFFQUOTE"},ORDER_CHECKS_DEPOSIT:{navMapper:{navKey:"orderDDAChecks",queryParamsKey:"accountId",navObjOperation:!0},variation:"ORDER_CHECKS_OR_DEPOSIT",service:"getAccountTypeSelectorList",selectorType:"DDA_ORDERCHECKS",doNotDestroyComponent:!0},DISNEY_CARDS:{navMapper:{navKey:"requestChangeCardDesign",queryParamsKey:"accountId",navObjOperation:!0},variation:"CHANGE_CARD_DESIGN",service:"getAccountTypeSelectorList",selectorType:"CARD_DESIGN_CHANGE",accountInfoRequired:!0},HEL_ACCOUNT_ORDERCHECKS:{navMapper:{navKey:"helOrderChecks",queryParamsKey:"params"},variation:"HEL_ORDER_CHECKS",service:"getAccountTypeSelectorList",selectorType:"HEL_ACCOUNT_ORDERCHECKS"},DIRECT_DEPOSIT:{navMapper:{navKey:"setupDirectDeposit",queryParamsKey:"accountId"},variation:"DIRECT_DEPOSIT",service:"getAccountTypeSelectorList",selectorType:"ACCOUNT_SETUPDIRECTDEPOSIT"},UPDATE_PAYMENT_DUE_DATE:{navMapper:{navKey:"requestPaymentDueDate",queryParamsKey:"params",navObjOperation:!0},variation:"CHANGE_PAYMENT_DUE_DATE",service:"getAccountTypeSelectorList",selectorType:"PAYMENT_DUE_DATE_CHANGE "},PROPERTY_TAXES:{navMapper:{navKey:"propertyTaxes",queryParamsKey:"accountId"},variation:"PROPERTY_TAXES",service:"getAccountTileslist"},STATUS_ANALYSIS:{navMapper:{navKey:"escrowStatusAnalysis",queryParamsKey:"accountId"},variation:"MORTGAGE_STATUS_ANALYSIS",service:"getAccountTileslist"},MORTGAGE_INSURANCE:{navMapper:{navKey:"mortgageInsurance",queryParamsKey:"accountId"},variation:"MORTGAGE_INSURANCE",service:"getAccountTileslist"}}}}),define("accountSelectorBlock/accountSelector",["require","accountSelectorBlock/dataProvider/accountSelector","common/lib/flyout/flyoutUtility","accountSelectorBlock/lib/accountSelectorNavigationMixin","accountSelectorBlock/lib/accountSelectorMapper"],function(e){"use strict";return function(t){var c=this,o=e("accountSelectorBlock/dataProvider/accountSelector")(c),n=e("common/lib/flyout/flyoutUtility"),a=function(){c.registry.destroyComponent("accountSelector")};c.init=function(){e("accountSelectorBlock/lib/accountSelectorNavigationMixin")(t),e("accountSelectorBlock/lib/accountSelectorMapper")(t),t.on("destroyComponent",a)},c.requestAccountSelector=function(e){return!!n.isFlyoutNavigation(t)||(e.feature?(c.model.set("accountSelector.feature",e.feature),c.requestSelectedFeature(e.accountId)):t.goToDashboard(),!0)},c.requestSelectedFeature=function(e){var o=c.model.get("accountSelector.feature");t.accountInfoRequired=t.mapper[o].accountInfoRequired,t.accountIdFromUrl=e,t.accountInfoRequired&&e?c.makeServiceCall(c.model.get("accountSelector.feature")):e?t.navigateToFeature(o,{accountId:e}):t.privateState("dashboard/accountSelector/renderAccountSelector")},c.renderAccountSelector=function(){return a(),c.makeServiceCall(c.model.get("accountSelector.feature")),[c.components.accountSelector,"accountSelector",{target:"#content"}]},c.makeServiceCall=function(e){var n=t.mapper[e],a=n.service,r=n.selectorType;c.dataProvider.mappers=o,r&&a?c.dataProvider.request("accountSelector."+a,{selectorType:r}):a&&c.dataProvider.request("accountSelector."+a)},c._onSuccess=function(e){if(t.accountsLength=e.length,e.length>1&&t.accountIdFromUrl)!function(e){var o=t.util.array.find(e,{accountId:Number(t.accountIdFromUrl)});o?t.navigateToFeature(c.model.get("accountSelector.feature"),o):t.goToDashboard()}(e);else if(1===e.length){var o=c.model.get("accountSelector.feature");"DIRECT_DEPOSIT"===o?c.model.set("accountSelector.accounts",e):(!t.mapper[o].doNotDestroyComponent&&a(),t.navigateToFeature(o,{accountId:e[0].accountId,accountMask:e[0].accountMask,payeeId:e[0].payeeId}))}else c.model.set("accountSelector.accounts",e)},t.openSetupDirectDepositForm=function(e){c.model.set("accountSelector.prefilledDocumentToOpen",""),c.dataProvider.request("accountSelector.getSetupDirectDepositDocKey",{accountId:e}).then(function(e){c.model.set("accountSelector.prefilledDocumentToOpen",e.docKey),t.goToDashboard()})}}}),define("accountSelectorBlock/services/accountSelector",[],function(){"use strict";return function(e){var t=function(e){return{settings:{type:"POST",url:e}}};this.serviceCalls={getAccountTypeSelectorList:t(e.config.serviceUrl+"/svc/rr/accounts/secure/v1/account/type/selector/list"),getAccountTileslist:t(e.config.serviceUrl+"/svc/rr/accounts/secure/v4/dashboard/tiles/list"),getSetupDirectDepositDocKey:t(e.config.serviceUrl+"/svc/rr/documents/secure/v3/directdeposit/dockey/list")}}}),define("accountSelectorBlock/components/accountSelector",["require","appkit-utilities/validation/componentValidate"],function(e){"use strict";return function(t){var c=e("appkit-utilities/validation/componentValidate"),o=this;o.init=function(){c.call(o,t,{requiredFields:["accountId"]}),t.globalContentMixin.call(o,["exitAda","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","horizontalEllipsisSymbol","openParenthesesSymbol","closeParenthesesSymbol","doneLabel","nextLabel","cancelLabel","hyphenSymbol","opensPdfAda"])},o.onReady=function(){var e=t.mapper[o.model.get("feature")].variation;e&&t.dcu.dynamicContent.setMultiple(o,[{key:"accountSelectorHeader",variation:e},{key:"accountSelectorMessage",variation:e}]),o.accountId="",o.model.set("whiteList",["accountId"]),o.model.set("isHybrid",t.hybrid),t.hybrid&&(t.jsBridge.changeScreenTitle(o.accountSelectorHeader,t),t.jsBridge.updateNativeNavigationBarButtons(t,{showHamburgerMenu:!1,showCancel:!0,showBackArrow:!1,showProfileSettings:!1,showClose:!1}),t.jsBridge.isHybridBackButtonRequired=function(){return!1})},o.closeAccountSelection=function(){t.goToDashboard()},o.cancelAccountSelection=function(){t.hybrid?t.jsBridge.onFinish(t):t.goToDashboard()},o.navigateToFeature=function(){var e=o.model.get(),c={accountId:parseInt(e.accountId)};t.accountInfoRequired&&(c=t.util.array.find(e.accounts,c)),"DIRECT_DEPOSIT"===e.feature?t.openSetupDirectDepositForm(c.accountId):(t.navigateToFeature(e.feature,c),!t.mapper[e.feature].doNotDestroyComponent&&t.controller.emit("destroyComponent"))}}}),define("accountSelectorBlock/views/specs/accountSelector",{name:"ACCOUNT_SELECTOR",defaultBindings:!0,bindings:{accountId:{direction:"BOTH"}},triggers:{formFieldTracking:{action:"formField"},submitAccountSelectorForm:{action:"view.submitAccountSelectorForm"}}}),define("accountSelectorBlock/settings",[],function(){"use strict";return{ddaAccountUrl:"/svc/rr/documents/secure/v3/directdeposit/document/list"}}),define("accountSelectorBlock/template/accountSelector",[],function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"account-selector-container",t:13}],f:[{t:7,e:"loader",m:[{n:"id",f:"accountSelectorLoader",t:13},{n:"classes",f:"generic-summary",t:13},{n:"adaAriaLiveContent",f:"true",t:13},{n:"display",f:[{t:2,r:".accounts.length"}],t:13}],f:[{t:4,f:[{t:7,e:"stickyTitle",m:[{n:"id",f:"accountSelectorTitle",t:13},{n:"title",f:[{t:2,r:".accountSelectorHeader"}],t:13},{n:"adaCloseText",f:[{t:2,r:".exitAda",s:!0}],t:13},{n:"type",f:"profile",t:13},{n:"classes",f:"headerTransitionWrap",t:13},{n:"rClick",f:"closeAccountSelection",t:13},{n:"byPassGlobalNavigation",f:"true",t:13}]}],n:50,x:{r:[".isHybrid"],s:"!_0"}}," ",{t:7,e:"div",m:[{n:"class",f:"BODY container-fluid",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"row top-margin",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-5 col-sm-offset-2",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"BODY2 top-margin",t:13}],f:[{t:2,r:".accountSelectorMessage"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-4 col-sm-offset-2 account-selector-select",t:13}],f:[{t:7,e:"form",m:[{n:"id",f:"accountSelectorForm",t:13},{n:"role",f:"form",t:13}],f:[{t:7,e:"blueValidationStyledSelect",m:[{n:"id",f:"accountId",t:13},{n:"name",f:"accountId",t:13},{n:"labelKey",f:"accountDisplayName",t:13},{n:"valueKey",f:"accountId",t:13},{n:"hatErrorPrefix",f:[{t:2,r:".errorAnnouncementAda",s:!0}],t:13},{n:"aria",f:["{ buttonLabel: ",{t:2,r:".accountSelectorMessage"},", selected: ",{t:2,r:".currentSelectionAda",s:!0},", bottomOfMenu: ",{t:2,r:".endOfSelectionAda",s:!0},", describedByButton: ",{t:2,r:".v.accountId.errorMessage"}," }"],t:13},{n:"errorMessage",f:[{t:2,r:".v.accountId.errorMessage"}],t:13},{n:"placeholder",f:[{t:2,r:".accountsPlaceholder",s:!0}],t:13},{n:"classicResponsive",f:"true",t:13},{n:"options",f:[{t:2,r:".accounts"}],t:13},{n:"value",f:[{t:2,r:".accountId"}],t:13},{n:"rBlur",f:"validateField",t:13},{n:"rFocus",f:"formFieldTracking",t:13},{n:"rChange",f:"['validateField', 'formFieldTracking']",t:13},{n:"showErrorHighlighting",f:[{t:2,x:{r:[".v.accountId.isValid"],s:"!_0"}}],t:13}]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"row top-margin",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-sm-2 col-sm-offset-7 col-md-offset-6 hide-xs show-sm",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"backButton",t:13},{n:"type",f:"button",t:13},{n:"text",f:[{t:2,r:".cancelLabel"}],t:13},{n:"click",f:"cancelAccountSelection",t:70},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"layout",t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-2",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"continueButton",t:13},{n:"type",f:"button",t:13},{n:"text",f:[{t:2,r:".nextLabel"}],t:13},{n:"click",f:"submitAccountSelectorForm",t:70},{n:"variant",f:"primary",t:13},{n:"width-type",f:"layout",t:13},{n:"accessible-text",f:[{t:4,f:[{t:2,r:".opensPdfAda",s:!0}],n:50,x:{r:[".feature"],s:'_0==="DIRECT_DEPOSIT"'}}],t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 show-xs hide-sm top-margin",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"backButtonXs",t:13},{n:"type",f:"button",t:13},{n:"text",f:[{t:2,r:".cancelLabel"}],t:13},{n:"click",f:"cancelAccountSelection",t:70},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"layout",t:13}],f:[]}]}]}]}]}]}],e:{}}}),define("accountSelectorBlock/views/accountSelector",["require","accountSelectorBlock/views/specs/accountSelector","appkit-utilities/validation/trigger","appkit-utilities/view/validationSubmitAda","appkit-utilities/formUtil/formUtil","accountSelectorBlock/settings","common/stickyTitle/stickyTitle","common/view/loader","blue-ui/view/modules/validationstyledselect","common/lib/pageTitle","accountSelectorBlock/template/accountSelector"],function(e){"use strict";return function(t){var c=e("accountSelectorBlock/views/specs/accountSelector"),o=e("appkit-utilities/validation/trigger"),n=e("appkit-utilities/view/validationSubmitAda"),a=e("appkit-utilities/formUtil/formUtil"),r=e("accountSelectorBlock/settings"),i=this,u={stickyTitle:e("common/stickyTitle/stickyTitle"),loader:e("common/view/loader"),blueValidationStyledSelect:e("blue-ui/view/modules/validationstyledselect")},l=e("common/lib/pageTitle");function s(){i.model.prefilledDocumentToOpen&&a.dynamicFormSubmit({context:i.context,inputData:{docKey:i.model.prefilledDocumentToOpen},formAttr:{method:"GET",title:"",action:r.ddaAccountUrl,download:!0},params:{isPopUp:!1}})}i.template=e("accountSelectorBlock/template/accountSelector"),i.init=function(){t.util.object.extend(c.triggers,o),i.bridge=c,i.views=u,i.onData("prefilledDocumentToOpen",s,{init:!1})},i.onReady=function(){var e={h1:{value:[i.model.accountSelectorPageHeader,i.model.hyphenSymbol,i.model.accountSelectorHeader].join(" ")}};l.setTitle(i,e);n.call(i,{formId:"accountSelectorForm"}),t.$("#title-accountSelectorTitle").focus()},i.submitAccountSelectorForm=function(e){e.domEvent.preventDefault(),i.trigger("validateForm"),i.model.v.isFormValid?i.trigger("navigateToFeature"):i.triggerSubmitAda()}}}),define("blue-spec/account_selector",[],function(){return{name:"ACCOUNT_SELECTOR",data:{accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},accountId:{type:"Description",exportable:!0},prefilledDocumentToOpen:{type:"Description"}},actions:{navigateToFeature:!0,cancelAccountSelection:!0,closeAccountSelection:!0},settings:{accountSelectorHeader:!0,accountSelectorMessage:!0,accountsPlaceholder:!0,accountIdError:!0,accountSelectorPageHeader:!0}}}),define("accountSelectorBlock/manifest",[],function(){});
//# sourceMappingURL=manifest.js.map
