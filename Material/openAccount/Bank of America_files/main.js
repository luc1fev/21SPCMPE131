"use strict";function bactm_setTMLib(){var t=window.location.href,e=t.split("."),n=e[0],i=!1;n.indexOf("//")>-1&&(e=n.split("//"),n=e[1]),i=APP.tealium.nonProdServers.some(function(t){return n.indexOf(t)>-1}),!1===i&&void 0!==APP.SITECONFIG.tealium.options.nonprodservers&&APP.SITECONFIG.tealium.options.nonprodservers.length>0&&(t=window.location.hostname,i=APP.SITECONFIG.tealium.options.nonprodservers.some(function(e){return t.indexOf(e)>-1})),window.bactm_envSelector=i?"notprod":"prod"}var APP=window.APP=window.APP||{};APP.header=function(){var t=$(".nav"),e=$(".nav-toggle"),n=$(".header"),i=$("#navigation"),o=function(o){t.find(".nav__link").attr("tabindex");t.toggleClass("is-active"),e.toggleClass("is-active"),n.toggleClass("is-active"),APP.utilities.isLarge?i.removeClass("trap"):i.addClass("trap"),t.hasClass("is-active")?t.slideDown("fast",function(){e.focus(),e.attr("aria-expanded",!0),APP.utilities.trap($(".trap"),!0),$(".not-modal").attr("aria-hidden","true"),console.log("abre")}):t.slideUp("fast",function(){e.focus(),e.attr("aria-expanded",!1),$(".not-modal").removeAttr("aria-hidden"),APP.utilities.trap($(".trap"),!1),console.log("cierra")})},a=function(t){APP.utilities.a11y.adaClick(t)&&(t.preventDefault(),o()),t.preventDefault()},l=function(){$(".js-toggle").on("click keypress",a),e.keydown(function(n){e.hasClass("is-active")&&(9!==n.which||n.shiftKey?27===n.keyCode&&(o(),e.focus()):(n.preventDefault(),t.find(".nav__link")[0].focus()))}),$(".nav__link").keydown(function(t){!APP.utilities.isLarge&&e.hasClass("is-active")&&27===t.keyCode&&(o(),e.focus())})},r=function(){APP.utilities.isLarge&&t.hasClass("is-active")&&o()};return{init:function(){console.log("APP.navToggle"),l(),APP.utilities.resize.addFunction("APP.header.resizeUpdate")},resizeUpdate:r}}();var APP=window.APP=window.APP||{};APP.index=function(){return{init:function(){console.log("APP.index")}}}();var APP=window.APP=window.APP||{};APP.modal=function(){var t,e,n=$("#modal"),i=($(".modal__overlay"),$("[data-modal-target]"),$('[data-modal-action="close"], .modal__overlay, .js-modal--close')),o=$(".js-modal--continue"),a=$("html"),l=$(".not-modal"),r=function(o){o.preventDefault(),t=o.target,e=$("#modal__"+$(t).attr("data-modal-target")),e.length?(n.find(".modal__body:visible").length&&n.focus().find(".modal__body:visible").hide(),a.addClass("ap-no-overflow"),e.show(),$(t).attr("href").length&&e.find(".js-modal--continue").length&&e.find(".js-modal--continue").attr({href:$(t).attr("href"),rel:"noopener",target:"_blank"}),n.addClass("modal__"+$(t).attr("data-modal-target")).attr("aria-hidden",!1).css("display","flex").hide().fadeIn("fast",function(){i.filter("button:first").focus(),l.attr("aria-hidden","true")})):console.log("modal not found: "+t.attr("data-modal-target"))},s=function(i){(i.data.exit||!1)&&i.preventDefault(),a.removeClass("ap-no-overflow"),l.removeAttr("aria-hidden"),n.fadeOut("fast",function(){n.removeClass("modal__"+$(t).attr("data-modal-target")).attr("aria-hidden",!0),t.focus(),e.hide().find(".js-modal--continue").attr("href","#").removeAttr("target")})},u=function(t){$(t).attr({"data-modal-target":"exit",rel:"noopener"})},c=function(){l.find(".modal__body").appendTo(n.find(".modal__content")),APP.utilities.anchor.notOnWhiteList(u)},d=function(){$(document).on("click","[data-modal-target]",r),i.on("click",{exit:!0},s),o.on("click",{exit:!1},s),APP.utilities.trap($(".trap"),!0)};return{init:function(){console.log("APP.modal"),c(),d()}}}();var APP=window.APP=window.APP||{};APP.utilities=window.APP.utilities=window.APP.utilities||{},APP.utilities.trap=function(t,e){var n=$(t);e?n.on("keydown.trap",function(t){var e=$(this);if(27===t.keyCode&&(e.find(".close").filter(":first").click(),t.preventDefault()),9===t.keyCode){var n=e.find("*"),i=n.filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),o=$(document.activeElement),a=i.length,l=i.index(o);t.shiftKey||l!==a-1||(i.get(0).focus(),t.preventDefault()),t.shiftKey&&0===l&&(i.get(a-1).focus(),t.preventDefault())}}):n.off("keydown.trap")},console.log("APP.utilities.trap");var APP=window.APP=window.APP||{};APP.utilities=window.APP.utilities=window.APP.utilities||{},APP.utilities.resize=function(){var t=[],e=null,n="600px",i="960px",o=function(){APP.utilities.isMobile=window.matchMedia("(max-width: "+n+")").matches,APP.utilities.isLarge=window.matchMedia("(min-width: "+i+")").matches},a=function(t){for(var e=0;e<t.length;e++){var n=window[t[e]];if(n&&"function"==typeof n)console.log("Exec:"+t[e]),n();else for(var i=t[e].split("."),o=0;o<i.length;o++)if("function"==typeof(n=0===o?window[i[0]]:n[i[o]])){console.log("Exec:"+t[e]),n();break}}},l=function(){$(window).on("resize.global",function(){clearTimeout(e),e=setTimeout(function(){a(APP.utilities.resize.functionsArray)},500)})},r=function(t){-1===$.inArray(t,APP.utilities.resize.functionsArray)&&(APP.utilities.resize.functionsArray.push(t),console.log("resize logged: "+t))};return{init:function(t){console.log("APP.utilities.resize"),t&&t.mobile&&t.large&&(n=t.mobile,i=t.large),o(),l(),APP.utilities.resize.addFunction("APP.utilities.resize.updateMatchMedia")},updateMatchMedia:o,addFunction:r,functionsArray:t}}();var APP=window.APP=window.APP||{};APP.utilities=window.APP.utilities=window.APP.utilities||{},APP.utilities.a11y=function(){var t=function(t){if("click"===t.type)return!0;if("keypress"!==t.type)return!1;var e=t.charCode||t.keyCode;return 32===e&&t.preventDefault(),32===e||13===e},e=function(t,e){return!(arguments.length>0)||(void 0===e&&(e=500),setTimeout(function(){t.focus()},e))};return{init:function(){console.log("APP.utilities.a11y")},adaClick:t,focusOnWait:e}}();var APP=window.APP=window.APP||{};APP.utilities=window.APP.utilities=window.APP.utilities||{},APP.utilities.svg=function(){return{setSVG:function(){SVGAnimatedString.prototype.indexOf=function(t){return this.baseVal.indexOf(t)},SVGAnimatedString.prototype.split=function(t){return this.baseVal.split(t)},SVGAnimatedString.prototype.substring=function(t,e){return this.baseVal.substring(t,e)}}}}();var APP=window.APP=window.APP||{};APP.utilities=window.APP.utilities=window.APP.utilities||{},APP.utilities.anchor=function(){var t=function(t){var e=$(window).scrollTop();return.4*Math.abs(e-t)},e=function(e,n){"string"==typeof e&&(e=$(decodeURIComponent("#"+e)));var i=e.offset().top;$("html, body").animate({scrollTop:i-APP.utilities.anchor.pageOffset},t(i)).promise().then(function(){e.focus(),Boolean(APP.utilities.anchor.pageOffset)&&e.outerHeight()+APP.utilities.anchor.pageOffset>$(window).height()&&$("html, body").animate({scrollTop:i-APP.utilities.anchor.pageOffset}),"function"==typeof n&&n()})},n=function(t){APP.utilities.anchor.pageOffset=t.height()+5},i="bankofamerica.com,bankofamericastore.com,bettermoneyhabits.com,ml.com,ustrust.com,merrilledge.com,mymerrill.com,maps.google.com,bofaml.com,baml.com,itunes.apple.com,play.google.com".split(","),o=function(t){$("a[href^='http']").each(function(){var e=$(this),n=$(this)[0].hostname,o=!1;$.each(i,function(){if(n.indexOf(this)>-1)return o=!0,!1}),o||$.isFunction(t)&&t(e)})},a=function(){$("a").on("click.inPage",function(t){if(this.hostname&&(location.hostname===this.hostname||!this.hostname.length)&&""!==this.hash){var n=this.hash;t.preventDefault(),e(n.replace("#","")),window.history&&window.history.pushState&&history.pushState("",document.title,n)}})};return{init:function(){console.log("APP.utilities.anchor"),n($(".header")),a()},pageOffset:0,updateOffset:n,scrollTo:e,notOnWhiteList:o}}();var APP=window.APP=window.APP||{};APP.disclosureModal=function(){var t=($("#disclosure-modal"),$(".disclosure-modal__overlay")),e=$(".show__modal"),n=$(".js-disclosure-modal-close, .js-exit-link"),i=$(".js-disclosure-modal-close"),o=$("html"),a=$(".not-modal"),l=function(e){e.preventDefault(),o.addClass("ap-no-overflow"),t.fadeIn("fast",function(){i.focus(),a.attr("aria-hidden","true")})},r=function(n){n.preventDefault(),o.removeClass("ap-no-overflow"),a.removeAttr("aria-hidden"),t.fadeOut("fast",function(){e.focus()})},s=function(){e.on("click",l),n.on("click",r),APP.utilities.trap($(".trap"),!0)};return{init:function(t){console.log("APP.disclosureModal"),s()}}}();var APP=window.APP=window.APP||{};APP.core={},APP.core.controller=function(){var t="",e=function(e){t=e},n=function(){return t},i=function(t){for(var e=[],n=document.getElementsByTagName("*"),i=0,o=n.length;i<o;i++)null!==n[i].getAttribute(t)&&e.push(n[i]);return e},o=function(t){var e=APP,i=n();""!==i&&e[i]&&"function"==typeof e[i].init&&e[i].init(t)};return{init:function(){for(var t=i("data-action"),n=0;n<t.length;n++){var a=t[n],l=a.getAttribute("data-action");e(l),console.log("APP.controller.init | APP."+l+".init() invoked"),o(a)}}}}(),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],i=n.length,o=window.console=window.console||{};i--;)t=n[i],o[t]||(o[t]=e)}();var APP=window.APP=window.APP||{};APP.global=function(){var t=function(){APP.utilities.resize.init({mobile:"643px",large:"980px"}),APP.utilities.anchor.init(),APP.utilities.anchor.pageOffset=0,APP.utilities.svg.setSVG()},e=function(){APP.core.controller.init()};return{init:function(){t(),e()}}}(),document.addEventListener("DOMContentLoaded",function(){APP.global.init()});var APP=window.APP=window.APP||{};APP.SITECONFIG={tealium:{options:{ddo:{cmCategory:"Dep:Mkt:Checking",cmPageName:"mOAA2RS_Tab",googleUA:[],target:!1,dartURL:[],productName:"",opinionlabs:!1,touchcommerce:!1,audiencemanager:!0,language:"en-us"},video:{trackPlay:!0,trackPause:!0,trackEnded:!0,trackPercent:!0,percentages:[25,50,75]},customMethods:["APP.responsiveTags.init"],nonprodservers:[]}},responsive:{breakpoints:[{label:"Mobile",value:643},{label:"Desktop",value:99999}],autoResize:!0}};var APP=window.APP=window.APP||{};APP.responsiveTags=function(){var t=APP.SITECONFIG.responsive;t.current="";var e=document.querySelectorAll("a[id],button[id]"),n=function(t){Array.prototype.forEach.call(t,function(t){t.setAttribute("data-bactmln",t.id+"_"+APP.responsiveTags.options.current)})},i=function(){for(var e=window.innerWidth,n=0;n<t.breakpoints.length;n++)if(e<t.breakpoints[n].value){APP.responsiveTags.options.current=t.breakpoints[n].label;break}},o=function(){i(),n(e)},a=function(){t.autoResize&&(window.onresize=function(){o()})};return{init:function(){console.log("APP.responsiveTags"),o(),a()},options:t,updateIDs:o}}();var digitalData={},utag_data={},bactm_envSelector="notprod",APP=window.APP=window.APP||{};APP.tealium=function(){function t(t,e,n){for(var n=[].slice.call(arguments).splice(2),i=t.split("."),o=i.pop(),a=0;a<i.length;a++)e=e[i[a]];return e[o].apply(e,n)}var e=function(){var t=APP.SITECONFIG.tealium.options.ddo;digitalData={pageInstanceID:window.bactm_envSelector,load_coremetrics:!0,load_opinionlabs:t.opinionlabs,load_touchcommerce:t.touchcommerce,load_audiencemanager:t.audiencemanager,load_adobetarget:t.target,disable_pageviewonload:!1,page:{pageInfo:[{pageID:t.cmCategory+";"+t.cmPageName,destinationURL:null,referringURL:null,issueDate:null,language:t.language,segmentValue:null,appName:null,appStepNumber:null,appStepName:null,attr:"-_--_--_--_--_--_--_--_--_--_--_--_--_--_-"}],category:{primaryCategory:t.cmCategory,addlCategory:null,pageType:null},attributes:{searchString:null,searchResults:null,olbSessionID:null,subCampaignCode:null,pageIDHistory:[],DARTUrl:null,stateCookie:null,SASIEnabled:!1,needOLBcookie:!1,standardDART:t.dartURL,standardDARTes:[],clickDART:[],clickDARTes:[],gaId:t.googleUA,chat:{account_type:null,boa_associate:null,boa_retiree:null,customer_lob:null,customer_segment:null,data:null,email_campaign:null,entitlement_code:null,error_category:null,error_count:null,first_login:null,inqClientOrderNum:null,inqOrderType:null,inqOtherInfo:null,inqSalesPrices:[],inqSalesProducts:[],inqSalesProductTypes:null,inqSalesQuantities:[],invitation_background:null,invitation_template:null,referral_campaign:null,getStateValue:!1,cust_fn:null,cust_ln:null,target:null,timezone:null,page_loadtime:null}}},product:[{productInfo:{productID:null,productName:t.productName,type:null,tagIsCalled:null},category:{primaryCategory:null},attributes:{}}],user:{segment:null,online_id:null,name:{first:null,last:null,full:null},offers:[],state:null,preferred_rewards_tier:null,olb3rdpartyid:null,authenticated:!1},version:"BAC_0.16"}},n=function(){var e=APP.SITECONFIG.tealium.options.customMethods;if(void 0!==e&&null!==e)for(var n=0;n<e.length;n++)""!==e[n]&&t(e[n],window,digitalData)},i=function(){console.log("APP.tealium"),e(),n()},o=["0","127","localhost","dev-","-dev"],a=["stg-","-stg","stage-","-stage"],l=["qa-","-qa"],r=["review-","-review","rev-","-rev"];return{init:i,nonProdServers:o.concat(a).concat(l).concat(r)}}(),bactm_setTMLib(),APP.tealium.init(),function(t,e,n,i){t="//tags.tiqcdn.com/utag/bofa/mcoe/"+bactm_envSelector+"/utag.js",e=document,n="script",i=e.createElement(n),i.src=t,i.type="text/java"+n,i.async=!0,t=e.getElementsByTagName(n)[0],t.parentNode.insertBefore(i,t)}(),"undefined"!=typeof videojs&&videojs.plugin("tealiumTagging",function(t){var e=this,n={},i=t.video,o=!1,a=function(){!0===i.trackPlay&&e.on("play",l),!0===i.trackPause&&e.on("pause",l),!0===i.trackEnded&&e.on("ended",l),!0===i.trackPercent&&(e.on("timeupdate",r),e.on("percent",l))},l=function(t,n){var a=t.type,l="video",r="",s="video_action_custom";void 0!==e.el_.dataset.videoName&&(l=e.el_.dataset.videoName),"play"===a&&!0===i.trackPlay&&(!1===o?(r="Play",s="video_action_play"):r="Replay",o=!0),"pause"===a&&!0===i.trackPause&&(r="Pause"),"ended"===a&&!0===i.trackEnded&&(r="Complete"),"percent"===a&&!0===i.trackPercent&&(r=n+"pct"),bactm.customEvent(s,{elementId:l,action:r})},r=function(t){var o=e.currentTime(),a=e.duration(),l=Math.round(o/a*100);i.percentages.indexOf(l)>-1&&!1===n["x"+l]&&(n["x"+l]=!0,e.trigger("percent",l))};!function(){$(i.percentages).each(function(t,e){n["x"+e]=!1}),a()}()});